
Stwórz foldery: kod, pages, web.

Zainicjalizuj moduł: W terminalu wpisz go mod init kolos.

wszysko: mala litera prywatne , duza publiczna

PAGES

<html>
<body>
    <h1>Lista aparatów</h1>
    <ul>
        {{ range . }}
        <li>{{ .Nazwa }} </li>
        {{ end }}
    </ul>
</body>
</html>

KOD

type Nazwa_wlasna struct {
	Nazwa  string  `json:"nazwa"`}  --- bez przecinka kolejne

type Beers struct {
    beers []Beer
}

type Knn struct {
    beers *Beers
}

func LoadBeers(name string) *Beers {
    b := Beers{}
    file, err := os.Open(name)
    if err != nil {
        fmt.Println(err.Error())
    }
    defer file.Close()

    scanner := bufio.NewScanner(file)
    for scanner.Scan() {
        data := strings.Split(scanner.Text(), ",")
        id, _ := strconv.Atoi(data[0])
        abv, _ := strconv.ParseFloat(data[1], 64)
        ibu, _ := strconv.ParseFloat(data[2], 64)
        name := data[4]
        
        b.beers = append(b.beers, Beer{Id: id, Abv: abv, Ibu: ibu, Name: name})
    }
    return &b
}

func Initialize() *Knn {
    return &Knn{beers: LoadBeers("files/beers.csv")}
}

func (k *Knn) Get10RandomBeers() []*Beer {
    beers := []*Beer{}
    for range 10 {
        index := rand.Intn(len(k.beers.beers))
        beers = append(beers, &k.beers.beers[index])
    }
    return beers
}


WEB

var recsys *knn.Knn = knn.Initialize()


func Nazwa(w http.ResponseWriter, r *http.Request) {
	
	data := kod.recsys()
///json.NewEncoder(w).Encode(data) ---- jak json zwaramy
	tmpl, err := template.ParseFiles("pages/nazwa.html")
	if err != nil {
		http.Error(w, "Błąd szablonu", http.StatusInternalServerError)
		return
	}
	tmpl.Execute(w, data)
}


func StartServer() {
	http.HandleFunc("/sciezka", nazwafunkcji)
	fmt.Println("Serwer: http://localhost:8080")
	http.ListenAndServe(":8080", nil)
}


